{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./App.css';import{fetchTasks,addTask,updateTask,deleteTask}from'./api';// Assuming the api.js file is in the same folder\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[tasks,setTasks]=useState([]);const[newTask,setNewTask]=useState('');const[editTaskId,setEditTaskId]=useState(null);const[editTaskTitle,setEditTaskTitle]=useState('');useEffect(()=>{const loadTasks=async()=>{try{const response=await fetchTasks();setTasks(response.data);}catch(error){console.error('Error fetching tasks:',error);}};loadTasks();},[]);const handleAddTask=async()=>{if(!newTask)return;try{const task={title:newTask,completed:false};const response=await addTask(task);setTasks([...tasks,response.data]);setNewTask('');}catch(error){console.error('Error adding task:',error);}};const handleEditTask=(taskId,currentTitle)=>{setEditTaskId(taskId);setEditTaskTitle(currentTitle);};const handleSaveEdit=async()=>{if(!editTaskTitle)return;try{const updatedTask={title:editTaskTitle,completed:false};const response=await updateTask(editTaskId,updatedTask);setTasks(tasks.map(task=>task._id===editTaskId?response.data:task));setEditTaskId(null);setEditTaskTitle('');}catch(error){console.error('Error updating task:',error);}};const handleDeleteTask=async taskId=>{try{await deleteTask(taskId);setTasks(tasks.filter(task=>task._id!==taskId));}catch(error){console.error('Error deleting task:',error);}};const handleCompleteTask=async(taskId,completed)=>{try{const updatedTask={completed:!completed};// Toggle completed status\nconst response=await updateTask(taskId,updatedTask);setTasks(tasks.map(task=>task._id===taskId?response.data:task));}catch(error){console.error('Error completing task:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"To-Do List\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTask,onChange:e=>setNewTask(e.target.value),placeholder:\"Add a new task\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddTask,children:\"Add Task\"}),editTaskId&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editTaskTitle,onChange:e=>setEditTaskTitle(e.target.value),placeholder:\"Edit task title\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveEdit,children:\"Save\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:tasks.map(task=>/*#__PURE__*/_jsxs(\"li\",{children:[task.title,\" \",task.completed?'(Completed)':'(Pending)',/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditTask(task._id,task.title),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteTask(task._id),children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCompleteTask(task._id,task.completed),children:task.completed?'Mark as Pending':'Mark as Complete'})]},task._id))})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","fetchTasks","addTask","updateTask","deleteTask","jsx","_jsx","jsxs","_jsxs","App","tasks","setTasks","newTask","setNewTask","editTaskId","setEditTaskId","editTaskTitle","setEditTaskTitle","loadTasks","response","data","error","console","handleAddTask","task","title","completed","handleEditTask","taskId","currentTitle","handleSaveEdit","updatedTask","map","_id","handleDeleteTask","filter","handleCompleteTask","className","children","type","value","onChange","e","target","placeholder","onClick"],"sources":["C:/Users/yjiax/Downloads/todolist/todolist-frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './App.css';\r\nimport { fetchTasks, addTask, updateTask, deleteTask } from './api'; // Assuming the api.js file is in the same folder\r\n\r\nconst App = () => {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [newTask, setNewTask] = useState('');\r\n  const [editTaskId, setEditTaskId] = useState(null);\r\n  const [editTaskTitle, setEditTaskTitle] = useState('');\r\n\r\n  useEffect(() => {\r\n    const loadTasks = async () => {\r\n      try {\r\n        const response = await fetchTasks();\r\n        setTasks(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching tasks:', error);\r\n      }\r\n    };\r\n    loadTasks();\r\n  }, []);\r\n\r\n  const handleAddTask = async () => {\r\n    if (!newTask) return;\r\n    try {\r\n      const task = { title: newTask, completed: false };\r\n      const response = await addTask(task);\r\n      setTasks([...tasks, response.data]);\r\n      setNewTask('');\r\n    } catch (error) {\r\n      console.error('Error adding task:', error);\r\n    }\r\n  };\r\n\r\n  const handleEditTask = (taskId, currentTitle) => {\r\n    setEditTaskId(taskId);\r\n    setEditTaskTitle(currentTitle);\r\n  };\r\n\r\n  const handleSaveEdit = async () => {\r\n    if (!editTaskTitle) return;\r\n    try {\r\n      const updatedTask = { title: editTaskTitle, completed: false };\r\n      const response = await updateTask(editTaskId, updatedTask);\r\n      setTasks(tasks.map((task) => (task._id === editTaskId ? response.data : task)));\r\n      setEditTaskId(null);\r\n      setEditTaskTitle('');\r\n    } catch (error) {\r\n      console.error('Error updating task:', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteTask = async (taskId) => {\r\n    try {\r\n      await deleteTask(taskId);\r\n      setTasks(tasks.filter((task) => task._id !== taskId));\r\n    } catch (error) {\r\n      console.error('Error deleting task:', error);\r\n    }\r\n  };\r\n\r\n  const handleCompleteTask = async (taskId, completed) => {\r\n    try {\r\n      const updatedTask = { completed: !completed }; // Toggle completed status\r\n      const response = await updateTask(taskId, updatedTask);\r\n      setTasks(tasks.map((task) => (task._id === taskId ? response.data : task)));\r\n    } catch (error) {\r\n      console.error('Error completing task:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>To-Do List</h1>\r\n      <input\r\n        type=\"text\"\r\n        value={newTask}\r\n        onChange={(e) => setNewTask(e.target.value)}\r\n        placeholder=\"Add a new task\"\r\n      />\r\n      <button onClick={handleAddTask}>Add Task</button>\r\n\r\n      {editTaskId && (\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            value={editTaskTitle}\r\n            onChange={(e) => setEditTaskTitle(e.target.value)}\r\n            placeholder=\"Edit task title\"\r\n          />\r\n          <button onClick={handleSaveEdit}>Save</button>\r\n        </div>\r\n      )}\r\n\r\n      <ul>\r\n        {tasks.map((task) => (\r\n          <li key={task._id}>\r\n            {task.title} {task.completed ? '(Completed)' : '(Pending)'}\r\n            <button onClick={() => handleEditTask(task._id, task.title)}>Edit</button>\r\n            <button onClick={() => handleDeleteTask(task._id)}>Delete</button>\r\n            <button onClick={() => handleCompleteTask(task._id, task.completed)}>\r\n              {task.completed ? 'Mark as Pending' : 'Mark as Complete'}\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}